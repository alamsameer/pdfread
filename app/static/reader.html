<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Structured PDF Reader</title>
    <link rel="stylesheet" href="/static/reader.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Lora:ital,wght@0,400;0,600;1,400&display=swap"
        rel="stylesheet">
</head>

<body>
    <div id="toolbar">
        <a href="/" class="back-link">‚Üê Back</a>
        <div class="doc-title" id="docTitle">Loading...</div>
        <div class="actions">
            <button id="toggleSidebar" class="btn-toggle-sidebar" title="Toggle annotations panel">
                <span class="icon">üìù</span>
                <span class="count" id="annotationCount">0</span>
            </button>
            <span id="pageCount"></span>
        </div>
    </div>

    <div id="reader-container">
        <!-- Sidebar -->
        <aside id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <h2>Annotations</h2>
                <button class="sidebar-close" id="closeSidebar">&times;</button>
            </div>
            <div id="sidebarContent" class="sidebar-content">
                <!-- Annotations will be listed here -->
            </div>
        </aside>

        <!-- Pages will be rendered here -->
        <div id="pages"></div>
    </div>

    <!-- Enhanced Floating Annotation Menu -->
    <div id="highlight-menu" class="hidden">
        <!-- Color Highlight Options -->
        <div class="menu-section">
            <label class="menu-label">Highlight Color</label>
            <div class="color-options">
                <button class="color-btn" style="background: #ffeb3b" onclick="createHighlight('#ffeb3b')"
                    title="Yellow" aria-label="Yellow highlight"></button>
                <button class="color-btn" style="background: #ffcdd2" onclick="createHighlight('#ffcdd2')" title="Pink"
                    aria-label="Pink highlight"></button>
                <button class="color-btn" style="background: #c8e6c9" onclick="createHighlight('#c8e6c9')" title="Green"
                    aria-label="Green highlight"></button>
                <button class="color-btn" style="background: #bbdefb" onclick="createHighlight('#bbdefb')" title="Blue"
                    aria-label="Blue highlight"></button>
                <button class="color-btn" style="background: #f0e68c" onclick="createHighlight('#f0e68c')" title="Khaki"
                    aria-label="Khaki highlight"></button>
                <button class="color-btn" style="background: #e1bee7" onclick="createHighlight('#e1bee7')"
                    title="Purple" aria-label="Purple highlight"></button>
            </div>
        </div>

        <!-- Font Size Options -->
        <div class="menu-section">
            <label class="menu-label">Font Size</label>
            <div class="font-options">
                <button class="font-size-btn" data-size="10pt">10pt</button>
                <button class="font-size-btn" data-size="12pt">12pt</button>
                <button class="font-size-btn" data-size="14pt">14pt</button>
                <button class="font-size-btn" data-size="16pt">16pt</button>
                <button class="font-size-btn" data-size="18pt">18pt</button>
                <button class="font-size-btn" data-size="20pt">20pt</button>
            </div>
        </div>

        <!-- Font Style Options -->
        <div class="menu-section">
            <label class="menu-label">Font Style</label>
            <div class="font-options">
                <button class="font-style-btn" data-style="bold">
                    <strong>Bold</strong>
                </button>
                <button class="font-style-btn" data-style="italic">
                    <em>Italic</em>
                </button>
                <button class="font-style-btn" data-style="underline">
                    <u>Underline</u>
                </button>
            </div>
        </div>

        <!-- Notes Section -->
        <div class="menu-section notes-section">
            <label class="menu-label" for="annotation-note">Add Note</label>
            <textarea id="annotation-note" placeholder="Type your note here..." rows="3"
                aria-label="Annotation note"></textarea>
        </div>

        <!-- Action Buttons -->
        <div class="menu-actions">
            <button id="btn-save" class="btn-primary">
                <span class="btn-icon">üíæ</span> Save Note
            </button>
            <button id="btn-delete" class="btn-danger">
                <span class="btn-icon">üóëÔ∏è</span> Delete
            </button>
        </div>
    </div>

    <script src="/static/reader.js"></script>
</body>

</html>